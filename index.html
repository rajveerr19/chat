<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Management System</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="chat-styles.css">
</head>
<body>
    <div id="login-section" class="section active">
        <div class="container">
            <h2>Task Management System</h2>
            <form class="login-form" id="login-form">
                <input type="email" id="email" placeholder="Email" required autocomplete="email">
                <input type="password" id="password" placeholder="Password" required autocomplete="current-password">
                <button type="submit">Login</button>
                <p id="login-error" class="error"></p>
            </form>
        </div>
    </div>

    <div id="dashboard-section" class="section">
        <nav>
            <div class="container">
                <h2>Task Management</h2>
                <div class="user-info">
                    <span id="current-user"></span>
                    <button onclick="logout()">Logout</button>
                </div>
            </div>
        </nav>

        <div class="container">
            <div id="admin-controls" style="display: none;">
                <button onclick="showAddTaskForm()">Add New Task</button>
                <button onclick="showUserManagement()">Manage Users</button>
            </div>

            <div id="task-form" class="modal" style="display: none;">
                <div class="modal-content">
                    <h3>Add New Task</h3>
                    <form id="new-task-form">
                        <input type="text" id="task-title" placeholder="Task Title" required>
                        <textarea id="task-description" placeholder="Task Description" required></textarea>
                        <input type="date" id="task-due-date" required>
                        <select id="task-priority" required>
                            <option value="">Select Priority</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                        <select id="task-status" required>
                            <option value="">Select Status</option>
                            <option value="start">ðŸ“‹ Start</option>
                            <option value="inprogress">ðŸ”„ In Progress</option>
                            <option value="waiting-doc">ðŸ“„ Waiting for Document</option>
                            <option value="waiting-feedback">ðŸ’¬ Waiting for Feedback</option>
                            <option value="complete">âœ… Complete</option>
                        </select>
                        <select id="task-assignee" required>
                            <option value="">Assign To</option>
                        </select>
                        <input type="file" id="task-documents" multiple>
                        <div class="button-group">
                            <button type="submit">Create Task</button>
                            <button type="button" onclick="hideAddTaskForm()">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="dashboard-container">
                <!-- Rest of the dashboard content remains the same -->
                <!-- ... -->
            </div>
        </div>
    </div>

    <!-- Import Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyC8l1MSX0_mjZcjbFyhpcu1MLPafFLk0OM",
            authDomain: "taskmanager-caab5.firebaseapp.com",
            projectId: "taskmanager-caab5",
            storageBucket: "taskmanager-caab5.firebasestorage.app",
            messagingSenderId: "299848474236",
            appId: "1:299848474236:web:fe0ef542633f56d75af3f9",
            measurementId: "G-NLVJF8QJBP"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        window.auth = auth;
        window.db = db;
    </script>
    <script src="script.js" type="module"></script>
</body>
</html>
